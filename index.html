<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Button Accuracy Test</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      height: 100vh;
      position: relative;
      overflow: hidden;
    }
    
    #gameArea {
  position: relative;
  width: 100%;
  height: 300px; /* Smaller area */
  border: 2px dashed #ccc;
  margin-top: 20px;
  overflow: hidden;
}
   
    #targetBtn {
      position: absolute;
    }
  </style>
</head>
<body class="container text-center">

  <h1 class="mt-3">Button Accuracy Test</h1>
  <p>Myth: Larger buttons improve accuracy, smaller buttons reduce it.</p>

  <div class="mb-3">
    <button class="btn btn-success me-2" onclick="startGame('big')">Start Big Button Mode</button>
    <button class="btn btn-danger" onclick="startGame('small')">Start Small Button Mode</button>
  </div>

  <div id="timer" class="fs-4 mb-2">Timer: 0</div>
  <div id="accuracy" class="fs-5 mb-3">Accuracy: -</div>
  <div id="modeDisplay" class="fs-5 mb-3 text-info">Mode: -</div>

  <div id="gameArea" class="bg-light">
    <button id="targetBtn" class="btn btn-primary d-none" onclick="registerClick()">Click Me!</button>
  </div>

  <script>
    let totalClicks = 0;
    let successfulClicks = 0;
    let gameDuration = 20; // seconds
    let timerInterval;
    let gameActive = false;

    const targetBtn = document.getElementById('targetBtn');
    const gameArea = document.getElementById('gameArea');
    const timerDisplay = document.getElementById('timer');
    const accuracyDisplay = document.getElementById('accuracy');

    function startGame(mode) {
      resetGame();

      // Set button size
      if (mode === 'big') {
        targetBtn.style.width = "120px";
        targetBtn.style.height = "120px";
      } else {
        targetBtn.style.width = "50px";
        targetBtn.style.height = "50px";
      }

      document.getElementById('modeDisplay').textContent = "Mode: " + (mode === 'big' ? "Big Button Test" : "Small Button Test");
      targetBtn.classList.remove("d-none");
      gameActive = true;
      moveButton();

      let timeLeft = gameDuration;
      timerDisplay.textContent = "Timer: " + timeLeft;

      timerInterval = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = "Timer: " + timeLeft;
        if (timeLeft <= 0) {
          endGame();
        }
      }, 1000);
    }

    function resetGame() {
      clearInterval(timerInterval);
      totalClicks = 0;
      successfulClicks = 0;
      accuracyDisplay.textContent = "Accuracy: -";
      targetBtn.classList.add("d-none");
      gameActive = false;
    }

    function endGame() {
      clearInterval(timerInterval);
      gameActive = false;
      targetBtn.classList.add("d-none");
      let accuracy = totalClicks > 0 ? ((successfulClicks / totalClicks) * 100).toFixed(2) : 0;
      accuracyDisplay.textContent = `Accuracy: ${accuracy}% (${successfulClicks}/${totalClicks})`;
    }

    function registerClick() {
      if (!gameActive) return;
      successfulClicks++;
      totalClicks++;
      moveButton();
    }

    // Count misclicks anywhere in the game area
    gameArea.addEventListener("click", (e) => {
      if (!gameActive) return;
      if (e.target !== targetBtn) {
        totalClicks++;
      }
    });

    function moveButton() {
      const areaWidth = gameArea.clientWidth;
      const areaHeight = gameArea.clientHeight;
      const btnWidth = targetBtn.offsetWidth;
      const btnHeight = targetBtn.offsetHeight;

      const randomX = Math.floor(Math.random() * (areaWidth - btnWidth));
      const randomY = Math.floor(Math.random() * (areaHeight - btnHeight));

      targetBtn.style.left = randomX + "px";
      targetBtn.style.top = randomY + "px";
    }
  </script>
</body>
</html>
